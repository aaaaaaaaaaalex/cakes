function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.addEventListener("DOMContentLoaded",(function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,a=navigator.userAgent,n=/iphone/i.test(a),r=/chrome/i.test(a),o=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(a,i){var l,c,u,s,d,f,m;if(!a&&this.length>0){var v=e(this[0]).data(e.mask.dataName);return v?v():void 0}return i=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},i),l=e.mask.definitions,c=[],u=f=a.length,s=null,e.each(a.split(""),(function(e,t){"?"==t?(f--,u=e):l[t]?(c.push(new RegExp(l[t])),null===s&&(s=c.length-1),u>e&&(d=c.length-1)):c.push(null)})),this.trigger("unmask").each((function(){function v(){if(i.completed){for(var e=s;d>=e;e++)if(c[e]&&C[e]===y(e))return;i.completed.call(Q)}}function y(e){return i.placeholder.charAt(e<i.placeholder.length?e:0)}function h(e){for(;++e<f&&!c[e];);return e}function p(e,t){var a,n;if(!(0>e)){for(a=e,n=h(t);f>a;a++)if(c[a]){if(!(f>n&&c[a].test(C[n])))break;C[a]=C[n],C[n]=y(n),n=h(n)}k(),Q.caret(Math.max(s,e))}}function g(){j(),Q.val()!=S&&Q.change()}function b(e,t){var a;for(a=e;t>a&&f>a;a++)c[a]&&(C[a]=y(a))}function k(){Q.val(C.join(""))}function j(e){var t,a,n,r=Q.val(),o=-1;for(t=0,n=0;f>t;t++)if(c[t]){for(C[t]=y(t);n++<r.length;)if(a=r.charAt(n-1),c[t].test(a)){C[t]=a,o=t;break}if(n>r.length){b(t+1,f);break}}else C[t]===r.charAt(n)&&n++,u>t&&(o=t);return e?k():u>o+1?i.autoclear||C.join("")===A?(Q.val()&&Q.val(""),b(0,f)):k():(k(),Q.val(Q.val().substring(0,o+1))),u?t:s}var Q=e(this),C=e.map(a.split(""),(function(e,t){return"?"!=e?l[e]?y(t):e:void 0})),A=C.join(""),S=Q.val();Q.data(e.mask.dataName,(function(){return e.map(C,(function(e,t){return c[t]&&e!=y(t)?e:null})).join("")})),Q.one("unmask",(function(){Q.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;Q.prop("readonly")||(clearTimeout(t),S=Q.val(),e=j(),t=setTimeout((function(){Q.get(0)===document.activeElement&&(k(),e==a.replace("?","").length?Q.caret(0,e):Q.caret(e))}),10))})).on("blur.mask",g).on("keydown.mask",(function(e){if(!Q.prop("readonly")){var t,a,r,o=e.which||e.keyCode;m=Q.val(),8===o||46===o||n&&127===o?(a=(t=Q.caret()).begin,(r=t.end)-a==0&&(a=46!==o?function(e){for(;--e>=0&&!c[e];);return e}(a):r=h(a-1),r=46===o?h(r):r),b(a,r),p(a,r-1),e.preventDefault()):13===o?g.call(this,e):27===o&&(Q.val(S),Q.caret(0,j()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!Q.prop("readonly")){var a,n,r,i=t.which||t.keyCode,l=Q.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>i)&&i&&13!==i){if(l.end-l.begin!=0&&(b(l.begin,l.end),p(l.begin,l.end-1)),a=h(l.begin-1),f>a&&(n=String.fromCharCode(i),c[a].test(n))){if(function(e){var t,a,n,r;for(t=e,a=y(e);f>t;t++)if(c[t]){if(n=h(t),r=C[t],C[t]=a,!(f>n&&c[n].test(r)))break;a=r}}(a),C[a]=n,k(),r=h(a),o){setTimeout((function(){e.proxy(e.fn.caret,Q,r)()}),0)}else Q.caret(r);l.begin<=d&&v()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){Q.prop("readonly")||setTimeout((function(){var e=j(!0);Q.caret(e),v()}),0)})),r&&o&&Q.off("input.mask").on("input.mask",(function(){var e=Q.val(),t=Q.caret();if(m&&m.length&&m.length>e.length){for(j(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<s&&!c[t.begin];)t.begin++;Q.caret(t.begin,t.begin)}else{for(j(!0);t.begin<f&&!c[t.begin];)t.begin++;Q.caret(t.begin,t.begin)}v()})),j()}))}})}));let e=document.querySelectorAll("[data-scroll]"),t=function(e){e.preventDefault();let t=e.target.dataset.scroll,a=jQuery(t).offset().top;jQuery("html, body").animate({scrollTop:a},800)};for(i=0;i<e.length;i++){e[i].addEventListener("click",t)}setTimeout((function(){document.querySelector(".intro__wrap--1").classList.add("scale-intro")}),900);let a=document.querySelector(".svg__path--1"),n=document.querySelector(".svg__path--2");a.setAttribute("d","M 70 70C 125 0 125 430 250 430C 380 430 400 100 650 70C 880 50 880 500 1100 350"),n.setAttribute("d","M 150 60C 585 50 970 100 970 175C 970 350 200 225 200 350C 200 450 585 425 900 470"),jQuery("[data-input-tel]").mask("+7 (999) 999 - 99 - 99",{autoclear:!1}),jQuery("[data-input-cyrillic]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[^а-яА-ЯёЁ\s]/g,""))})),jQuery("[data-input-latin]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[^A-Za-zА\s]/g,""))})),jQuery("[data-input-email]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[а-яА-ЯёЁ]/g,""))}));let r=jQuery("[data-input]");for(i=0;i<r.length;i++){let e=r[i];jQuery(e).on("input change keydown blur keypress keyup",o)}function o(e){let t=e.target,a=t.value,n=jQuery(t).data("re"),r=jQuery(t).data("required"),o=new RegExp(n,"g"),i=a.match(o);1==r?""==a||a!=i?jQuery(t).removeClass("valid").addClass("invalid").attr("data-flag","false"):jQuery(t).removeClass("invalid").addClass("valid").attr("data-flag","true"):""==a?jQuery(t).removeClass("valid").removeClass("invalid").attr("data-flag","true"):a!=i?jQuery(t).removeClass("valid").addClass("invalid").attr("data-flag","false"):jQuery(t).removeClass("invalid").addClass("valid").attr("data-flag","true"),l()}function l(){let e=event.target,t=jQuery(e).parents("[data-form]").find("[data-input]"),a=jQuery(e).parents("[data-form]").find("[data-btn]");!function(e,t){1==e?t.prop("disabled",!1).addClass("hover-on"):t.prop("disabled",!0).removeClass("hover-on")}(jQuery(t).map((function(){return this.dataset.flag})).get().every((function(e){return"true"==e})),a)}jQuery("[data-modal]").on("click",(function(e){e.preventDefault();let t=jQuery(this).data("modal");jQuery(t).addClass("show"),jQuery("body").addClass("no-scroll")})),jQuery("[data-close]").on("click",(function(e){e.preventDefault();let t=jQuery(this).parents(".modal");jQuery(t).removeClass("show"),jQuery("body").removeClass("no-scroll")})),jQuery(".modal").on("click",(function(){jQuery(this).removeClass("show"),jQuery("body").removeClass("no-scroll")})),jQuery(".modal__dialog").on("click",(function(e){e.stopPropagation()}));let c=document.querySelectorAll("[data-btn-change-quantity]"),u=document.querySelector("[data-cart]"),s=document.querySelector("[data-cart-count]");newQuantity=0;let d=document.querySelectorAll("[data-counter-input]"),f=document.querySelectorAll("[data-price-product]"),m=document.querySelector("[data-price-total]"),v=document.querySelector("[data-price-total-and-dostavka]"),y=Number(document.querySelector("[data-price-dostavka]").textContent),h=function(e){let t=e.target;u.classList.add("show");let a=t.dataset.direction,n=t.dataset.idInput,r=document.getElementById(n),o=Number(r.value);newQuantity="plus"===a?o+1:o-1>0?o-1:0,r.value=newQuantity;let l=0;for(i=0;i<d.length;i++){l+=Number(d[i].value)}s.textContent=l;let c=Number(r.dataset.price),h=r.closest("[data-item]").querySelector("[data-price-product]");newPriceProduct=r.value*c,h.textContent=newPriceProduct;let p=0;for(i=0;i<f.length;i++){p+=Number(f[i].textContent)}m.textContent=p,newPriceTotalAndDostavka=p>0?p+y:0,v.textContent=newPriceTotalAndDostavka};for(i=0;i<c.length;i++){c[i].addEventListener("click",h)}let p=document.querySelector(".bank-card__wrap"),g=document.querySelectorAll(".btn-card-choice"),b=document.querySelector(".bank-card__add-payment"),k=document.querySelector(".btn-bank-card-subtitle"),j=document.querySelector(".bank-card__title"),Q=function(){p.classList.add("hidden"),b.classList.add("show"),j.classList.add("card-active")};for(i=0;i<g.length;i++){g[i].addEventListener("click",Q)}k.addEventListener("click",(function(){b.classList.remove("show"),p.classList.remove("hidden"),j.classList.remove("card-active")}));let C=document.querySelector(".btn-order-total"),A=document.querySelector(".modal").querySelectorAll("[data-input]"),S=function(){!function(e){1==e?(C.removeAttribute("disabled"),C.classList.add("hover-on")):(C.setAttribute("disabled",""),C.classList.remove("hover-on"))}(jQuery(A).map((function(){return this.dataset.flag})).get().every((function(e){return"true"==e})))};for(i=0;i<A.length;i++){A[i].addEventListener("input",S)}}));