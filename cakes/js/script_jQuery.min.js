function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.addEventListener("DOMContentLoaded",(function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),r=/chrome/i.test(n),i=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var l,u,c,s,d,f,m;if(!n&&this.length>0){var p=e(this[0]).data(e.mask.dataName);return p?p():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),l=e.mask.definitions,u=[],c=f=n.length,s=null,e.each(n.split(""),(function(e,t){"?"==t?(f--,c=e):l[t]?(u.push(new RegExp(l[t])),null===s&&(s=u.length-1),c>e&&(d=u.length-1)):u.push(null)})),this.trigger("unmask").each((function(){function p(){if(o.completed){for(var e=s;d>=e;e++)if(u[e]&&Q[e]===v(e))return;o.completed.call(A)}}function v(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function y(e){for(;++e<f&&!u[e];);return e}function h(e,t){var n,a;if(!(0>e)){for(n=e,a=y(t);f>n;n++)if(u[n]){if(!(f>a&&u[n].test(Q[a])))break;Q[n]=Q[a],Q[a]=v(a),a=y(a)}k(),A.caret(Math.max(s,e))}}function g(){j(),A.val()!=S&&A.change()}function b(e,t){var n;for(n=e;t>n&&f>n;n++)u[n]&&(Q[n]=v(n))}function k(){A.val(Q.join(""))}function j(e){var t,n,a,r=A.val(),i=-1;for(t=0,a=0;f>t;t++)if(u[t]){for(Q[t]=v(t);a++<r.length;)if(n=r.charAt(a-1),u[t].test(n)){Q[t]=n,i=t;break}if(a>r.length){b(t+1,f);break}}else Q[t]===r.charAt(a)&&a++,c>t&&(i=t);return e?k():c>i+1?o.autoclear||Q.join("")===C?(A.val()&&A.val(""),b(0,f)):k():(k(),A.val(A.val().substring(0,i+1))),c?t:s}var A=e(this),Q=e.map(n.split(""),(function(e,t){return"?"!=e?l[e]?v(t):e:void 0})),C=Q.join(""),S=A.val();A.data(e.mask.dataName,(function(){return e.map(Q,(function(e,t){return u[t]&&e!=v(t)?e:null})).join("")})),A.one("unmask",(function(){A.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;A.prop("readonly")||(clearTimeout(t),S=A.val(),e=j(),t=setTimeout((function(){A.get(0)===document.activeElement&&(k(),e==n.replace("?","").length?A.caret(0,e):A.caret(e))}),10))})).on("blur.mask",g).on("keydown.mask",(function(e){if(!A.prop("readonly")){var t,n,r,i=e.which||e.keyCode;m=A.val(),8===i||46===i||a&&127===i?(n=(t=A.caret()).begin,(r=t.end)-n==0&&(n=46!==i?function(e){for(;--e>=0&&!u[e];);return e}(n):r=y(n-1),r=46===i?y(r):r),b(n,r),h(n,r-1),e.preventDefault()):13===i?g.call(this,e):27===i&&(A.val(S),A.caret(0,j()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!A.prop("readonly")){var n,a,r,o=t.which||t.keyCode,l=A.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(l.end-l.begin!=0&&(b(l.begin,l.end),h(l.begin,l.end-1)),n=y(l.begin-1),f>n&&(a=String.fromCharCode(o),u[n].test(a))){if(function(e){var t,n,a,r;for(t=e,n=v(e);f>t;t++)if(u[t]){if(a=y(t),r=Q[t],Q[t]=n,!(f>a&&u[a].test(r)))break;n=r}}(n),Q[n]=a,k(),r=y(n),i){setTimeout((function(){e.proxy(e.fn.caret,A,r)()}),0)}else A.caret(r);l.begin<=d&&p()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){A.prop("readonly")||setTimeout((function(){var e=j(!0);A.caret(e),p()}),0)})),r&&i&&A.off("input.mask").on("input.mask",(function(){var e=A.val(),t=A.caret();if(m&&m.length&&m.length>e.length){for(j(!0);t.begin>0&&!u[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<s&&!u[t.begin];)t.begin++;A.caret(t.begin,t.begin)}else{for(j(!0);t.begin<f&&!u[t.begin];)t.begin++;A.caret(t.begin,t.begin)}p()})),j()}))}})}));let e=document.querySelectorAll("[data-scroll]"),t=function(e){e.preventDefault();let t=e.target.dataset.scroll,n=jQuery(t).offset().top;jQuery("html, body").animate({scrollTop:n},800)};for(i=0;i<e.length;i++){e[i].addEventListener("click",t)}setTimeout((function(){document.querySelector(".intro__wrap--1").classList.add("scale-intro")}),700),document.querySelector(".svg__path").setAttribute("d","M 70 70C 125 0 125 430 250 430C 380 430 400 100 650 70C 880 50 880 500 1100 350"),jQuery("[data-input-tel]").mask("+7 (999) 999 - 99 - 99",{autoclear:!1}),jQuery("[data-input-cyrillic]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[^а-яА-ЯёЁ\s]/g,""))})),jQuery("[data-input-latin]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[^A-Za-zА\s]/g,""))})),jQuery("[data-input-email]").on("input",(function(){jQuery(this).val(jQuery(this).val().replace(/[а-яА-ЯёЁ]/g,""))}));let n=jQuery("[data-input]");for(i=0;i<n.length;i++){let e=n[i];jQuery(e).on("input change keydown blur keypress keyup",a)}function a(e){let t=e.target,n=t.value,a=jQuery(t).data("re"),i=jQuery(t).data("required"),o=new RegExp(a,"g"),l=n.match(o);1==i?""==n||n!=l?jQuery(t).removeClass("valid").addClass("invalid").attr("data-flag","false"):jQuery(t).removeClass("invalid").addClass("valid").attr("data-flag","true"):""==n?jQuery(t).removeClass("valid").removeClass("invalid").attr("data-flag","true"):n!=l?jQuery(t).removeClass("valid").addClass("invalid").attr("data-flag","false"):jQuery(t).removeClass("invalid").addClass("valid").attr("data-flag","true"),r()}function r(){let e=event.target,t=jQuery(e).parents("[data-form]").find("[data-input]"),n=jQuery(e).parents("[data-form]").find("[data-btn]");!function(e,t){1==e?t.prop("disabled",!1).addClass("hover-on"):t.prop("disabled",!0).removeClass("hover-on")}(jQuery(t).map((function(){return this.dataset.flag})).get().every((function(e){return"true"==e})),n)}jQuery("[data-modal]").on("click",(function(e){e.preventDefault();let t=jQuery(this).data("modal");jQuery(t).addClass("show"),jQuery("body").addClass("no-scroll")})),jQuery("[data-close]").on("click",(function(e){e.preventDefault();let t=jQuery(this).parents(".modal");jQuery(t).removeClass("show"),jQuery("body").removeClass("no-scroll")})),jQuery(".modal").on("click",(function(){jQuery(this).removeClass("show"),jQuery("body").removeClass("no-scroll")})),jQuery(".modal__dialog").on("click",(function(e){e.stopPropagation()}));let o=document.querySelectorAll("[data-btn-change-quantity]"),l=document.querySelector("#cart");newQuantity=0;let u=function(e){let t=e.target;l.classList.add("show"),"plus"===t.dataset.direction?(newQuantity+=1,console.log(newQuantity)):(newQuantity=currentValueInput-1)>0?newValue=currentValueInput-1:newValue=0};for(i=0;i<o.length;i++){o[i].addEventListener("click",u)}let c=document.querySelectorAll(".counter__btn"),s=document.getElementById("total-price-products"),d=document.getElementById("total-price-and-dostavka"),f=Number(document.getElementById("dostavka").textContent),m=function(e){let t=e.value*Number(e.dataset.price);e.closest(".modal__item").querySelector(".modal__price-total").textContent=t,function(){let e=document.querySelectorAll(".modal__price-total");for(priceTotalAll=0,i=0;i<e.length;i++){let t=Number(e[i].textContent);t>0&&(priceTotalAll+=t)}s.textContent=priceTotalAll,priceTotalAll>0?(priceTotalAllAndDostavka=priceTotalAll+f,d.textContent=priceTotalAllAndDostavka):d.textContent=0}()},p=function(){let e,t=this.dataset.direction,n=this.parentElement.querySelector(".counter__input"),a=Number(n.value);e="plus"===t?a+1:(e=a-1)>0?a-1:0,n.value=e,m(n)};for(i=0;i<c.length;i++){c[i].addEventListener("click",p)}let v=document.querySelector(".bank-card__wrap"),y=document.querySelectorAll(".btn-card-choice"),h=document.querySelector(".bank-card__add-payment"),g=document.querySelector(".btn-bank-card-subtitle"),b=function(){v.classList.add("hidden"),h.classList.add("show")};for(i=0;i<y.length;i++){y[i].addEventListener("click",b)}g.addEventListener("click",(function(){h.classList.remove("show"),v.classList.remove("hidden")}));let k=document.querySelector(".btn-order-total"),j=document.querySelector(".modal").querySelectorAll("[data-input]"),A=function(){!function(e){1==e?(k.removeAttribute("disabled"),k.classList.add("hover-on")):(k.setAttribute("disabled",""),k.classList.remove("hover-on"))}(jQuery(j).map((function(){return this.dataset.flag})).get().every((function(e){return"true"==e})))};for(i=0;i<j.length;i++){j[i].addEventListener("input",A)}}));